{% extends 'tureview/base.html' %}
{% load static %}

{% block title %}course {{ course.id }} {% endblock %}

{% block content %}

<!-- section voor laag 1-->
<section class="page-section cta">
  <!-- section voor laag 2-->
  <section style="width:100%; background-color:red; padding:5px;">
    <!-- div voor laag 2.1-->
    <div style="width:100%; height:30%; background-color:yellow; padding:5px;">
      <!-- div voor laag 2.1.1-->
      <div style="width:70%; float: left; height:100%; background-color:khaki; padding:5px;">
      </div>
      <!-- div voor laag 2.1.2-->
      <div style="width:30%; float: right; height:100%; background-color:lavender; padding:5px;">
      </div>
    </div>
    <!-- div voor laag 2.2-->
    <div style="width:100%; height:10%; background-color:gold; padding:5px;">
    </div>
    <div style="width:100%; height:60%; background-color:goldenrod; padding:5px;">
    </div>
  </section>
  <!-- section voor laag 3-->
  <section style="width:100%; background-color:white; padding:5px;">
    <!-- accordion voor laag 3.1-->
      {% for review in reviews %}
      <div id="flip"> Ik ben de header
      </div>
      <div id="panel"> Ik ben verborgen
      </div>
      {% empty %}
      <i>No reviews for this course found, would you like to <a href="review">write a review?</a></i>
      {% endfor %}
  </section>
    <div class="container">
        <h1> {{course.id}} {{ course.name }} </span></h1><span class="faculty"> {{ course.get_faculty_display }}</span>
        <div>
            {{ reviews|length }} reviews found (average rating: {{ course.getAverage }})
            , would you like to <a href="review">write a new review for {{course.id}}</a>
        </div>
        <p> {{ course.descriptionLong }}</p>
        {% for review in reviews %}
        <div class="row">
            <div class="col-xl-9 mx-auto">
              <div class="cta-inner text-center rounded">
                <h5>{{ review.reviewShort }}</h5>
                <div>Rating: {{review.ratingOverall}}</div>
                <p>{{ review.reviewLong }}</p>
                <p>date: <b>{{ review.date }}</b></p>
                <p id="thumbsUpText">thumbs up: <b id="thumbsUpCount">{{ review.thumbsUp.count }}</b></p>
                <p id="thumbsDownText">thumbs down: <b id="thumbsDownCount">{{ review.thumbsDown.count }}</b></p>
                {% if request.user.is_authenticated %}
                <button class="btn btn-primary thumbsUp" id="thumbsUp">
                  {% if review.up == True %}
                    <i class="fa fa-thumbs-up active" style=aria-hidden="true">UP ACTIVE</i>
                    <i class="fa fa-thumbs-o-up inactive" style="display: none;" style=aria-hidden="true">UP INACTIVE</i>
                  {% else %}
                    <i class="fa fa-thumbs-up active" style="display: none;" style=aria-hidden="true">UP ACTIVE</i>
                    <i class="fa fa-thumbs-o-up inactive" style=aria-hidden="true">UP INACTIVE</i>
                  {% endif %}
                </button>
                <button class="btn btn-primary thumbsDown" id="thumbsDown">
                  {% if review.down == True %}
                    <i class="fa fa-thumbs-down active" style=aria-hidden="true">DOWN ACTIVE</i>
                    <i class="fa fa-thumbs-o-down inactive" style="display: none;" style=aria-hidden="true">DOWN INACTIVE</i>
                  {% else %}
                    <i class="fa fa-thumbs-down active" style="display: none;" style=aria-hidden="true">DOWN ACTIVE</i>
                    <i class="fa fa-thumbs-o-down inactive" style=aria-hidden="true">DOWN INACTIVE</i>
                  {% endif %}
              </button>
                <input type="hidden" id="review-pk" value="{{ review.pk }}" />
                {% endif %}
              </div>
            </div>
        </div>
        {% empty %}
        <i>No reviews for this course found, would you like to <a href="review">write a review?</a></i>
        {% endfor %}
    </div>
</section>
<script src="{% static 'javascript/course.js' %}" defer></script>
{% endblock %}
